<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sign Up - Free SAT Math Class</title>
  <link href="https://fonts.googleapis.com/css?family=Fredoka+One|Open+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    .required { color: red; }
    .error-border { border: 2px solid red; }
    #submissionPopup {
      display: none;
      text-align: center;
      padding: 10px;
      background-color: #e1f5fe;
      border: 1px solid #4fc3f7;
      color: #01579b;
      border-radius: 5px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <header class="page-header">
    <nav>
      <a href="index.html">Home</a>
      <a href="signup.html" class="active">Sign Up</a>
      <a href="contact.html">Contact</a>
    </nav>
    <div class="header-content">
      <h1>Sign Up for My Class</h1>
    </div>
  </header>
  <main>
    <section class="signup-section">
      <div class="container">
        <div id="submissionPopup">Thank you for your submission!</div>
        <h2>Register for Your Session</h2>
        <form id="signupForm" action="sendmail.php" method="POST">
          <label for="name">Full Name: <span class="required">*</span></label>
          <input type="text" id="name" name="name" required>
          <label for="email">Email Address: <span class="required">*</span></label>
          <input type="email" id="email" name="email" required>
          <label for="session">Select a Session Time (Each session lasts 2 hours): <span class="required">*</span></label>
          <select id="session" name="session" required>
            <option value="">--Choose a Time Slot--</option>
            <option value="12:00 PM - 2:00 PM">12:00 PM - 2:00 PM</option>
            <option value="2:00 PM - 4:00 PM">2:00 PM - 4:00 PM</option>
            <option value="4:00 PM - 6:00 PM">4:00 PM - 6:00 PM</option>
            <option value="6:00 PM - 8:00 PM">6:00 PM - 8:00 PM</option>
          </select>
          <label for="additionalInfo">Additional Information (Optional):</label>
          <textarea id="additionalInfo" name="additionalInfo" rows="5" placeholder="Enter any additional details here."></textarea>
          <input type="hidden" name="_subject" value="New SAT Math Class Sign Up">
          <input type="submit" value="Sign Up">
        </form>
      </div>
    </section>
  </main>
  <footer>
    <div class="container">
      <p>&copy; 2025 Free SAT Math Class. All rights reserved.</p>
    </div>
  </footer>
  <script>
    document.getElementById("signupForm").addEventListener("submit", function(e) {
      e.preventDefault();
      var requiredFields = this.querySelectorAll("input[required], select[required]");
      requiredFields.forEach(function(field) { field.classList.remove("error-border"); });
      if (!this.checkValidity()) {
        requiredFields.forEach(function(field) { if (!field.checkValidity()) { field.classList.add("error-border"); }});
        return;
      }
      const formData = new FormData(this);
      fetch(this.action, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } })
      .then(response => {
        if (response.ok) {
          const popup = document.getElementById("submissionPopup");
          popup.style.display = "block";
          setTimeout(() => { popup.style.display = "none"; }, 3000);
          document.getElementById("signupForm").reset();
        } else {
          response.json().then(data => {
            if (data.errors) {
              alert("Error: " + data.errors.map(err => err.message).join(", "));
            } else {
              alert("Oops! There was a problem submitting your form.");
            }
          });
        }
      }).catch(() => {
        alert("Oops! There was a problem submitting your form.");
      });
    });
  </script>
</body>
</html>
